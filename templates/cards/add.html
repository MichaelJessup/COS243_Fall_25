{% extends "base.html" %}
{% block title %}View Flash Cards{% endblock %}
{% block head %}
	{{ super() }}
{% endblock %}
{% block content %}
	<br>
	<h1 class="title">Add or Edit Card!</h1>
	<hr>
		{% if card %}
			<form action="/cards/edit" method="post">
				<p>Front: </p> <input type="text" name="front" value="{{card.front}}">
				<br>
				<p>Back: </p> <input type="text" name="back" value="{{card.back}}">
				<br>
				<p>Set: </p> <select name="set_id">
					<option name="" value=""></option>
					{% for set in sets %}
						{% if set.id == set_id or card.set_id == set.id %}
							<option selected="selected" name="{{set.name}}" value="{{set.id}}">{{ set.name }}</option>\
						{% else %}
							<option name="{{set.name}}" value="{{set.id}}">{{ set.name }}</option>
						{% endif %}
					{% endfor %}
				</select>
				<hr>
				<input type="submit" value="Submit"> <button href='/cards/{{card.id}}'>Cancel</button>
				<input style="visibility: hidden;" type="number" name="id" value="{{card.id}}">
			</form>
			<hr>
			<form action="/cards/{{card.id}}/delete" method="post">
				<button type="submit" onclick="return confirm('Are you sure you want to delete this card? You worked so hard on it!')">
					Delete Card
				</button>
			</form>
		{% else %}
			<form action="/cards/add" method="post">
				<p>Front: </p> <input type="text" name="front">
				<br>
				<p>Back: </p> <input type="text" name="back">
				<br>
				<p>Set: </p> <select name="set_id">
					<option name="" value=""></option>
					{% for set in sets %}
						{% if set.id == set_id %}
							<option selected="selected" name="{{set.name}}" value="{{set.id}}">{{ set.name }}</option>\
						{% else %}
							<option name="{{set.name}}" value="{{set.id}}">{{ set.name }}</option>
						{% endif %}
					{% endfor %}
				</select>
				<hr>
				<input type="submit" value="Submit">
			</form>
		{% endif %}
	<hr>
	<br>
{% endblock %}
